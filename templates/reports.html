<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports</title>
    <!-- link css stylesheet for flask -->
    <link href="{{url_for('static', filename='styles/style.css')}}" rel="stylesheet"/>
    <link href="{{url_for('static', filename='styles/reports.css')}}" rel="stylesheet"/>

    <style>
        :root {
            /* Main */
            --bg-color: {{cf.main_background_color or '#0a0a1f'}};
            --text-color: {{cf.main_text_color or '#f0f0f0'}};
            /* Content */
            --content-color: {{cf.content_color or '#1c1c33'}};
            --content-text-color: {{cf.content_text_color or' #ffffff'}};
            /* Sidebar */
            --sidebar-color: {{cf.sidebar_color or '#193763'}};
            --sidebar-text-color: {{cf.sidebar_text_color or '#ffffff'}};
            /* Buttons */
            --button-color: {{cf.button_color or '#1a73ff'}};
            --button-text-color: {{cf.button_text_color or '#ffffff'}};
            --button-hover-color: {{cf.button_hover_color or '#0050b3'}};
            /* Borders */
            --border-color: {{cf.border_color or' #3399ff'}};
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <div class="sidebar"> 
            <h1>Clocked in </h1>
            <table>
                <tbody>
                    {% for date, entries in live %}
                        <tr class="date-row">
                            <td colspan="3"><hr>{{ date }}<hr></td>

                        </tr>
                        {% for entry in entries %}
                        <tr>
                            <td></td>
                            <td>{{ entry.clock_in }}</td>
                            <td>{{ entry.fname }} {{ entry.lname }}</td>
                        </tr>
                        {% endfor %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="main-content">
            <div class="top-menu">
                <a href="/home">Home</a>
                <a href="/search">Search</a>
                <a href="/reports">Reports</a>
                <a href="/settings">Settings</a>
            </div>
            <div>
                <form class="form-row" method="POST" action="/reports">
                    <button class="updateDB" type="submit" id="save-now" name = "save-now" value = "save-now" title="Save report of last 30 days to computer"> Save Report</button>
                    <br>
                    <button class="updateDB" type="submit" id="send-now" name = "send-now" value = "send-now" title="Sends report to everyone who recieves 'now' reports"> Send Report Now</button>
                </form>
            </div>
            <div class="reports-content">
                <div class="excel-wrapper">
                    <div class="excel-table">
                        <!-- HEADER ROW -->
                        <div class="excel-row excel-header">
                            <div class="excel-cell">Date</div>
                            <div class="excel-cell">Clock In</div>
                            <div class="excel-cell">Clock Out</div>
                            <div class="excel-cell">Duration</div>
                            <div class="excel-cell">ID</div>
                            <div class="excel-cell">First Name</div>
                            <div class="excel-cell">Last Name</div>
                            <div class="excel-cell">Role</div>
                            <div class="excel-cell">Position</div>
                            <div class="excel-cell">Department</div>
                        </div>
                        <!-- DATA ROWS -->
                        {% for row in report %}
                        <div class="excel-row">
                            <div class="excel-cell">{{ row.date }}</div>
                            <div class="excel-cell">{{ row.clock_in }}</div>
                            <div class="excel-cell">{{ row.clock_out }}</div>
                            <div class="excel-cell">{{ row.duration }}</div>
                            <div class="excel-cell">{{ row.employee_id }}</div>
                            <div class="excel-cell">{{ row.fname }}</div>
                            <div class="excel-cell">{{ row.lname }}</div>
                            <div class="excel-cell">{{ row.role }}</div>
                            <div class="excel-cell">{{ row.position }}</div>
                            <div class="excel-cell">{{ row.department }}</div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>
</html>
